---
name: code-review
description: コードレビュー、バグチェック、コミット前チェック時に使用
---

# Code Review Skill

コードレビュー、バグチェック、またはコミット前のチェックを実行する際に使用するスキルです。

## 検査項目

- **括弧の整合性**: メソッドが正しく `class` のブロック内に配置されているか（スコープ外への記述漏れがないか）を確認する。
- **状態フラグのリセット漏れ**: `isNavigating`, `isListening` などの状態管理フラグが適切なタイミングでリセット（false）されているか確認する。
- **countdown/timerの空処理**: タイマーやカウントダウンの完了時に、UIの非表示化だけでなく、適切な後続のビジネスロジックが存在するか確認する。
- **handler leak**: `postDelayed` などで遅延実行される処理に対して、ライフサイクルに合わせた `removeCallbacks` が適切に呼ばれているか確認する。
- **UI操作のスレッド安全性**: UIコンポーネントの操作が必ずメインスレッド（UIスレッド）で行われているか確認する。

## 出力形式

指摘事項を「重大」「中程度」「軽微」の3段階に分類し、以下の形式で出力してください。

- **重大度**: [重大 / 中程度 / 軽微]
- **ファイル名**: 該当ファイル名
- **行番号**: 該当行
- **問題**: 問題の詳細な説明
- **修正案**: 具体的なコード修正案
