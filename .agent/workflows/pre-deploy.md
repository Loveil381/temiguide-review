---
description: デプロイ準備の最終チェックを実行します
---

# Pre-Deploy Workflow

**使用方法**: 検証機へのインストールや本番リリースを行う前に `/pre-deploy` を実行し、デプロイ可能か診断します。

## Step 1: Full QA の実行
- `full-qa` ワークフロー (`/full-qa`) を呼び出して全項目の品質チェックを行う。

## Step 2: セッティングの確認
- `build.gradle` (または `build.gradle.kts`) を確認し、以下の値が要件を満たしているかチェックする。
  - `minSdk`
  - `targetSdk`
  - `versionCode` (リリースごとのインクリメント等の確認)

## Step 3: マニフェストの確認
- `AndroidManifest.xml` を読み込み、以下に問題がないか確認する。
  - 必要な `<uses-permission>` がすべて宣言されているか。
  - Temi固有の `<meta-data>`（Kioskモード設定やSkill定義など）が正しく配置されているか。

## Step 4: ハードコード＆デバッグコードの検出
- プロジェクト内を検索し、以下のものを検出して警告する。
  - ハードコードされた API キーや認証トークン。
  - `BuildConfig.DEBUG` で囲まれていない本番環境で実行されてしまうデバッグログ (`Log.d`, `println` など) やテスト用モックデータ。

## Step 5: 最終判定の出力
- すべての検査結果を集計し、致命的な問題がなければ **「デプロイ準備完了」** と出力する。
- 修正必須な項目が残っている場合は、**「要修正リスト」** を箇条書きで出力してデプロイをブロックする。
